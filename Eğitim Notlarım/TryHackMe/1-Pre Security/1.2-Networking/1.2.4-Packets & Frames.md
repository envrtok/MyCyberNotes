## 📦 What are Packets and Frames?

Ağ üzerinden iletilen büyük veriler küçük parçalara bölünerek gönderilir:  
➡️ Bu küçük parçalar ya packet (paket) ya da frame (çerçeve) olarak adlandırılır.  
İkisi aynı şey değildir çünkü farklı OSI katmanlarında bulunurlar.

---

#### 🧬 Frame vs Packet

| Kavram   | OSI Katmanı      | Açıklama                                                           |
|----------|------------------|---------------------------------------------------------------------|
| 🖼️ Frame   | Layer 2 - Data Link | IP adresi içermez, fiziksel ağda iletim için kullanılır.            |
| 📬 Packet  | Layer 3 - Network   | IP adresleri içerir, cihazlar arası yönlendirme ve iletim için kullanılır. |

💌 Frame’i, paketin içindeki zarfa benzetebilirsin. "Zarf içinde zarf" mantığıyla çalışırlar.  
Bu sürece encapsulation (kapsülleme) denir.

---

#### 🧱 Paketler Neden Önemli?

- Büyük veriler → küçük paketlere bölünerek daha verimli iletilir.  
- 🔁 Parça parça veri → ağda tıkanıklık (bottleneck) riski azalır.  
- 🎨 Örnek: Bir web sitesinden gelen görsel tek parça değil, küçük paketlerle gelir ve cihazında yeniden birleştirilir.

---

#### 📋 Paket Yapısı ve Başlıklar (Headers)

Her paketin, taşıdığı veriye ek olarak bazı başlık (header) bilgileri vardır:  

| 🏷️ Header              | 📝 Açıklama |
|------------------------|-------------|
| ⏳ Time to Live (TTL)     | Paket ağda sonsuza kadar dolanmasın diye zamanlayıcı koyar. |
| 🧪 Checksum              | Verinin bozulup bozulmadığını kontrol eder. |
| 📤 Source Address        | Paketi gönderen cihazın IP adresi. |
| 📥 Destination Address   | Paketin hedef cihaza ulaşması için IP adresi. |

🎯 Bu başlıklar sayesinde veriler doğru hedefe ulaşır ve doğrulukları teyit edilir.

---

🧠 Özetle:

- Frame = Fiziksel taşıma (adres yok)  
- Packet = IP adresli yönlendirme (internette veri gezdirme)  
- Her veri parçası protokollere uygun olarak standart biçimde taşınır  
- Bu sayede milyarlarca cihaz birbirini anlayabilir 🌐

---

## 🤝 TCP/IP & Three-Way Handshake

TCP (Transmission Control Protocol), cihazlar arasında güvenilir veri iletimi sağlayan bir iletişim protokolüdür.  
📦 Veriyi küçük parçalara (paketlere) bölerek gönderir ve sırayla ulaşmasını garanti eder.

---

### 📚 TCP/IP Katmanları (OSI’ye benzer ama daha sade)

1. 🎮 Application
2. 🚚 Transport
3. 🌍 Internet
4. 🧱 Network Interface

Her katman, veriye kendi "kapsülünü" (header) ekler → buna encapsulation denir.

---

### 🔒 TCP’nin Özellikleri

| ✅ Avantajlar | ❌ Dezavantajlar |
|--------------|------------------|
| Verinin doğru ulaştığından emin olur | Yavaş bağlantı tüm süreci yavaşlatabilir |
| Cihazlar arasında senkronizasyon sağlar | Her paketin kontrol edilmesi işlemi yavaşlatır |
| Veri bütünlüğünü sağlar (Checksum) | UDP'ye göre daha yavaştır |

---

### 🧾 TCP Paket Başlıkları (Headers)

| 🏷️ Header            | Açıklama                                  |
| --------------------- | ----------------------------------------- |
| 🎯 Source Port        | Gönderen cihazın portu (rastgele seçilir) |
| 🎯 Destination Port   | Alıcı cihazın portu (örneğin HTTP: 80)    |
| 📤 Source IP          | Paketin çıktığı IP adresi                 |
| 📥 Destination IP     | Hedef IP adresi                           |
| 🔢 Sequence Number    | Verinin sıralaması için rastgele sayı     |
| 🔁 Acknowledgement No | Alınan verinin doğrulanması (seq+1)       |
| 🔐 Checksum           | Veri bozulmuş mu kontrol eder             |
| 📄 Data               | Asıl gönderilen bilgi (veri)              |
| 🚦 Flag               | Paketin nasıl ele alınacağını belirler    |

---

## 🔁 TCP Three-Way Handshake Süreci

TCP bağlantısı kurulmadan veri gönderilmez.  
Aşağıdaki üç adım bu bağlantıyı başlatır:

| 📶 Adım | 📩 Mesaj   | 🧠 Açıklama |
|--------|------------|-------------|
| 1      | SYN        | Bağlantı başlatma isteği (senkronizasyon talebi) |
| 2      | SYN/ACK    | Sunucu bu isteği onaylar ve kendi ISN’ini gönderir |
| 3      | ACK        | İstemci onaylar ve bağlantı kurulur |
| 4      | DATA       | Veri gönderilmeye başlanır |
| 5      | FIN        | Bağlantı düzgünce sonlandırılır |
| #      | RST        | Ani hata varsa bağlantı sertçe kesilir |

🧮 ISN (Initial Sequence Number) süreci:

| Cihaz  | Gönderdiği ISN | Sonraki Adımı     |
|--------|----------------|-------------------|
| Client | 0              | ACK + ISN+1 → 1   |
| Server | 5000           | ACK + ISN+1 → 5001 |

---

### ❌ TCP Bağlantısını Sonlandırma (FIN)

Bağlantı sonlandırıldığında cihazlar sırayla aşağıdaki işlemleri yapar:

1. 🔚 Alice → Bob'a FIN gönderir
2. 👋 Bob → FIN’i aldığını ACK ile bildirir
3. 🔚 Bob → Kendi FIN paketini gönderir
4. 👋 Alice → Bob’un FIN’ini ACK ile onaylar

🔄 Bu işlem, iki cihazın bağlantıyı düzgünce kapatmasını sağlar ve kaynaklar serbest bırakılır.

---

🧠 Özetle:

- TCP yavaş ama güvenilir 💯  
- Bağlantı kurulmadan veri gönderilmez 🔐  
- Paketler sırayla, kontrol edilerek iletilir ✅  
- Her TCP iletişimi SYN → SYN/ACK → ACK ile başlar 🔄  
- FIN ve ACK ile düzgün şekilde kapanır ✅

---

## 📡 UDP/IP – Hızlı ama Güvensiz Protokol

UDP (User Datagram Protocol), TCP'nin aksine bağlantısız (stateless) bir iletişim protokolüdür.  
Yani veri göndermek için önceden bağlantı kurmaya gerek yoktur: ⛔ No Handshake, ⛔ No Acknowledgement

---

### ⚡ UDP vs TCP

| ✅ Avantajlar                        | ❌ Dezavantajlar                                   |
|------------------------------------|----------------------------------------------------|
| Çok daha hızlıdır 🚀                | Verinin ulaşmaması önemsenmez ❌                    |
| Sürekli bağlantı kurmaz, sistem kaynağı harcamaz | Veri kaybı olursa kullanıcı deneyimi düşer 😣      |
| Uygulama, veri gönderme hızını kendisi belirler | Veri bütünlüğü garantisi yoktur 🧨                 |

🎥 Örnek kullanım alanları: video akışı, sesli aramalar, oyunlar, DNS

---

### 🧾 UDP Paket Başlıkları (Headers)

| 🏷️ Header           | Açıklama |
|---------------------|----------|
| 🕒 Time To Live (TTL)| Paket ağda çok uzun kalmasın diye zaman sınırı koyar ⏱️ |
| 📤 Source Address    | Gönderen cihazın IP adresi |
| 📥 Destination Addr. | Alıcı cihazın IP adresi |
| 🎯 Source Port       | Gönderenin rastgele seçtiği port (0-65535 arası) |
| 🎯 Destination Port  | Alıcıda açık olan hizmet portu (örneğin: DNS → 53) |
| 📄 Data              | Gönderilen asıl veri (bytes, içerik, mesaj...) |

---

### 🧠 UDP'nin Karakteristik Özelliği: Bağlantısızlık

- UDP'de "veri ulaştı mı?" kontrolü yok ❌
- Cihazlar arasında bağlantı kurulmaz. Veriler doğrudan gönderilir 📦➜
- Hiçbir senkronizasyon ya da güvenlik katmanı yoktur 🔓

---

### 📉 UDP Kullanımı Ne Zaman Mantıklıdır?

✅ Zaman ve hız çok önemliyse  
✅ Bağlantının sürekli kesilmesi sorun değilse  
✅ Küçük veri paketleri yeterliyse  
✅ Ses/görüntü gibi "canlı" içerikler iletiliyorsa  

---

### 🧪 Örnek Senaryo: Alice → Bob

Alice Bob’a UDP ile mesaj gönderir.  
Bob’un mesajı alıp almadığı belli değildir.  
Ama bu hızlı gerçekleşir ⚡ ve sistem kaynakları az kullanılır.

---
## ⚓ Ports 101 – Uygulamalar Veriyle Nereden Girer?

Bir limanı düşün: Gemiler sadece kendilerine uygun olan liman kapılarına yanaşabilir.  
Aynı mantık, bilgisayar ağlarındaki portlar için de geçerlidir. Portlar, bir cihazın gelen/verilen veriyi yönlendirdiği kapılardır. 📦

---

### 🔢 Port Numaraları Nedir?

- Portlar: 0 - 65535 arası sayısal değerlerdir
- Veri, hangi hizmete aitse o hizmete atanmış porta yönlendirilir.
- Bazı port numaraları belirli hizmetlere “standart” olarak atanmıştır.  
  Bu sayede uygulamalar birbiriyle uyumlu çalışabilir 🧩

---

### 🧱 Standart (Well-Known) Portlar (0-1024)

| 📡 Protokol | 🔢 Port | 📝 Açıklama |
|------------|---------|-------------|
| FTP        | 21      | Dosya aktarımı (File Transfer Protocol) 📁 |
| SSH        | 22      | Güvenli uzaktan terminal bağlantısı 🔐 |
| HTTP       | 80      | Web sayfalarını tarayıcıda yükler 🌐 |
| HTTPS      | 443     | Şifrelenmiş web trafiği (SSL/TLS) 🔒 |
| SMB        | 445     | Dosya ve cihaz (örneğin yazıcı) paylaşımı 🖨️ |
| RDP        | 3389    | Uzaktan masaüstü bağlantısı 🖥️ |

---

### ⚠️ Portlar Değiştirilebilir mi?

Evet!  
Örneğin: Web sunucusu normalde port 80'de çalışır ama istersen 8080'de de çalıştırabilirsin.  
Bu durumda adresi şöyle yazman gerekir:  
`http://site.com:8080` 🌍

---

### 🚢 Analojiyle Kısaca Özet

Her uygulama bir gemi gibi.  
Her hizmet (FTP, HTTP, SSH) ise limandaki bir kapı (port).  
Geminin içeri girmesi için doğru kapıya yönlendirilmesi gerekir.

---

🛠️ Pratik Bilgi:
Ağ taraması yaparken (örneğin Nmap), bu portlar açık mı diye kontrol ederiz.  
Bu sayede sistemde hangi hizmetlerin çalıştığını anlayabiliriz 🕵️‍♂️

---

