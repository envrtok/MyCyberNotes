## 🔐 SSH ile Linux Makinesine Bağlanmak

Artık gerçek bir uzak makineye bağlanmayı öğreniyoruz!  
Bunun için kullanacağımız protokol: **SSH (Secure Shell)** 🛡️

---

### 🚀 Nedir Bu SSH?

SSH, uzak bir makineye **güvenli bir şekilde** bağlanmamızı sağlayan bir protokoldür.  
🔐 **Şifreleme** sayesinde gönderdiğimiz her şey gizli kalır.

- 🧠 Veriler gönderilmeden önce **şifrelenir**
- 🖥️ Uzak makineye ulaşınca **çözülür**
- ✅ Komutlarımız **güvenli şekilde** iletilir

---

### 🖥️ Bu Görevde Ne Yapacağız?

1. ✅ **Linux makinesini başlat** (Start Machine butonuna tıkla)
2. ✅ **AttackBox’u başlat** (bulut üzerindeki kendi tarayıcı içi Ubuntu)
3. 🧠 AttackBox’tan SSH ile kendi Linux makinemize bağlanacağız

---

### 📥 SSH Bağlantı Formatı

```bash
ssh kullanıcı_adı@IP_adresi
```

Bu görevde:
- 👤 Kullanıcı adı: `tryhackme`
- 🔑 Şifre: `tryhackme`
- 🌐 IP: Sana verilen IP’yi kullan (örnek: `10.10.123.45`)

Örnek:
```bash
ssh tryhackme@10.10.123.45
```

🔒 **İlk girişte güvenlik sorusu** çıkar: “Trust this host?” — `yes` yaz ve devam et.  
🔑 Şifre girerken hiçbir şey görünmez (normaldir), yazıp Enter’a bas.

---

### 🎯 SSH ile Bağlandıktan Sonra

✅ Artık gönderdiğin her komut, **uzak makinede çalışır!**  
Terminal senin elin, IP senin hedefin! 🎯

---

### 🧠 Notlar

- SSH, **ağ üzerinden şifreli bağlantı** sağlar.
- Kullanıcı adı ve şifreyle giriş yapılır.
- Terminalde şifre yazarken **hiçbir karakter görünmez** (bu bir güvenlik önlemidir).

---

## 🚩  Introduction to Flags and Switches

Linux komutları genellikle ekstra **parametreler (flag/switch)** ile çalıştırılır. Bu parametreler, komutun davranışını değiştirmemizi sağlar. 🛠️

---

### ⚙️ Nedir Bu "Flag" veya "Switch"?

- Bir komutu `-` veya `--` ile başlayan ek kelimelerle genişletebiliriz.
- Bu anahtar kelimeler komutun **varsayılan davranışını** değiştirir.

🔹 Örnek:  
`ls` → sadece görünür dosyaları listeler.  
`ls -a` → gizli dosyaları da gösterir (örneğin `.hiddenfolder`) 👀

---

### 🧪 Uygulama Örneği:

```bash
tryhackme@linux2:~$ ls
folder1

tryhackme@linux2:~$ ls -a
.hiddenfolder folder1
```

---

### 📘 Yardım Almak

Çoğu komutun desteklediği flag'leri öğrenmek için `--help` kullanabilirsin:

```bash
ls --help
```

Bu komut, ilgili komutun kabul ettiği **tüm seçenekleri ve kısa açıklamalarını** gösterir.  
Örneğin:

```bash
-a, --all        do not ignore entries starting with .
-A, --almost-all do not list implied . and ..
```

---

### 📚 Man Pages (Manual - Kılavuz Sayfaları)

Komutların detaylı dokümantasyonunu görmek için:

```bash
man ls
```

🔍 Bu sayfa:

- Komutun ne yaptığını
- Tüm seçeneklerini
- Kullanım biçimlerini

... detaylı şekilde açıklar.

📌 Çıkmak için: `q` tuşuna bas.  
ℹ️ Yardım tuşu: `h`

---

### ✅ Özetle:

- Komutlara flag/switch ekleyerek özelleştirme yaparız.  
- `--help` hızlı yardım sunar, `man` komutu detaylı kılavuz verir.  
- Bilinçli kullanım = güçlü Linux bilgisi 💪🐧

---

## 📁 Filesystem Interaction Continued

Linux'ta dosya sistemiyle etkileşim kurarken artık şu işlemleri de yapabileceğiz:

- 📄 Dosya ve klasör oluşturmak
- 🔁 Taşımak/kopyalamak
- ❌ Silmek
- 🧠 Türünü öğrenmek

---

### 📄 Dosya ve 📂 Klasör Oluşturmak

| Komut | Açılımı | Görevi |
|-------|---------|--------|
| `touch` | touch | Yeni dosya oluşturur |
| `mkdir` | make directory | Yeni klasör oluşturur |

📌 Örnekler:

```bash
touch note            # note adında boş bir dosya oluştur
mkdir mydirectory     # mydirectory adında klasör oluştur
```

---

### ❌ Dosya ve Klasör Silmek

| Komut | Açıklama |
|-------|----------|
| `rm` | Dosya siler |
| `rm -R` | Klasör (ve içeriğini) siler |

📌 Örnekler:

```bash
rm note               # note dosyasını sil
rm -R mydirectory     # mydirectory klasörünü ve içeriğini sil
```

> 🛑 Dikkat: `rm` komutu sildiği şeyi geri getirmez!

---

### 🔁 Dosya Kopyalama ve Taşıma

| Komut | Açıklama |
|-------|----------|
| `cp [kaynak] [hedef]` | Dosyayı kopyalar |
| `mv [kaynak] [hedef]` | Dosyayı taşır veya yeniden adlandırır |

📌 Örnekler:

```bash
cp note note2         # note dosyasını note2 olarak kopyala
mv note2 note3        # note2'yi note3 olarak yeniden adlandır
mv note folder1/      # note dosyasını folder1 klasörüne taşı
```

---

### 🧠 Dosya Türünü Öğrenme

Dosya uzantısı yoksa bile dosyanın ne olduğunu `file` komutuyla öğrenebiliriz.

📌 Örnek:

```bash
file note
# Çıktı: note: ASCII text
```

---

### ✅ Özetle:

- `touch`, `mkdir` → oluştur  
- `rm`, `rm -R` → sil  
- `cp`, `mv` → kopyala/taşı/yeniden adlandır  
- `file` → türünü öğren  

🧠 Bilerek işlem yapmak seni sistem üzerinde daha güçlü kılar. 💪🐧

---

## 🔐 Permissions 101

Linux’ta her dosya ve klasör, **kimin ne yapabileceğini** belirleyen izinlere sahiptir. Bu izinler üç temel erişimi kapsar:

- 👁️ **Read (r)** → Okuma
- ✍️ **Write (w)** → Yazma
- 🚀 **Execute (x)** → Çalıştırma

---

### 📋 İzinleri Görmek: `ls -l`

```bash
ls -lh
```

📌 Örnek çıktı:

```
-rw-r--r-- 1 cmnatic cmnatic 0 Feb 19 10:37 file1
```

Bu çıktının parçalanmış hali:

| Sembol | Açıklama |
|--------|---------|
| `-rw-r--r--` | İzinler |
| `1` | Bağlantı sayısı |
| `cmnatic` | Dosya sahibi (user) |
| `cmnatic` | Dosya grubu (group) |
| `0` | Dosya boyutu |
| `Feb 19 10:37` | Son değiştirilme zamanı |
| `file1` | Dosya adı |

#### 🔍 İzinlerin ilk sütunu:

```bash
-rw-r--r--
```

| Karakter | Açıklama |
|----------|----------|
| `-` | Dosya türü (`-` = dosya, `d` = klasör) |
| `rw-` | Sahip izinleri (read, write) |
| `r--` | Grup izinleri (read only) |
| `r--` | Diğer kullanıcı izinleri (read only) |

---

### 👥 Kullanıcılar ve Gruplar

Her dosyanın:
- 👤 Bir **sahibi (user)** vardır.
- 👥 Bir **grubu (group)** vardır.
  
Linux’ta dosyalar, **farklı kullanıcı ve gruplara farklı izinlerle** atanabilir.

---

### 🔄 Kullanıcı Değiştirme: `su`

Başka bir kullanıcıya geçmek için:

```bash
su kullanıcı_adı
```

🔐 Giriş yapabilmek için **kullanıcının şifresini** bilmen gerekir.

#### 🔄 `-l` veya `--login` ile geçiş:

```bash
su -l user2
```

🟢 Bu seçenek, sizi direkt olarak `user2`'nin ev dizinine taşır ve o kullanıcının ortam değişkenlerini yükler.

📌 Fark:

| Komut | Başlangıç konumu |
|-------|------------------|
| `su user2` | Önceki dizinde kalırsınız |
| `su -l user2` | Yeni kullanıcının ana dizinine geçersiniz (`/home/user2`) |

---

### ✅ Özetle:

- `ls -l` → izinleri ve sahip bilgilerini gör  
- `r`, `w`, `x` → okuma, yazma, çalıştırma  
- `su` → kullanıcı değiştir  
- `su -l` → tam oturum başlat  

🔐 Unutma: Her şey izinlerle kontrol edilir. Güvenliğin temelinde bu yatar!

---

## 📁 Common Directories

Linux'ta kök (`/`) dizin altında yer alan bazı **önemli sistem klasörlerini** tanıyalım:

---

### 📂 `/etc` – Sistem Yapılandırma Dosyaları

Bu klasör, sistem ayarlarını ve konfigürasyon dosyalarını barındırır.

📌 Önemli dosyalar:
- `sudoers` → Hangi kullanıcılar **sudo** yetkisine sahip?
- `passwd` → Kullanıcı hesapları listesi (şifreler **burada şifreli değil**).
- `shadow` → Gerçek şifreler, **şifreli (sha512)** halde burada tutulur.

🔐 Bu klasör, sistem güvenliği açısından **çok kritiktir.**

---

### 📂 `/var` – Değişken Veriler

"Variable" (değişken) anlamındadır. **Sık sık güncellenen** veriler burada tutulur.

📌 Alt klasörlerden bazıları:
- `/var/log` → Sistem ve uygulama log dosyaları
- `/var/tmp` → Kalıcıya daha yakın geçici veriler
- `/var/backups` → Yedeklemeler
- `/var/opt` → Opsiyonel uygulamaların verileri

🔍 Pentest sırasında log dosyaları burada incelenir.

---

### 📂 `/root` – Root Kullanıcısının Ev Dizini

`/home/root` değil, direkt **`/root`** olarak tanımlanmıştır.

📌 Örneğin:
```
/root/passwords.xlsx
```

🔐 Sadece **root kullanıcısı** bu dizine erişebilir.

---

### 📂 `/tmp` – Geçici Dosyalar

"Temporary" klasörüdür. **Yeniden başlatıldığında sıfırlanır.**

💡 **Her kullanıcı yazabilir.**

📌 Pentester ipucu:
> Script veya payload bırakmak için güvenli bir yer sağlar.

📁 Örnek içerik:
```
/tmp/trash.txt
/tmp/todelete
```

---

### ✅ Özet

| Klasör | Amaç |
|--------|------|
| `/etc` | Sistem ayar dosyaları |
| `/var` | Loglar, veritabanları, değişken içerikler |
| `/root` | Root kullanıcısının kişisel dizini |
| `/tmp` | Herkesin yazabildiği geçici klasör |

