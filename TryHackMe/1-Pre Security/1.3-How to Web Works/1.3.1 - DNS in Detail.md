## 🌍 DNS (Domain Name System) Nedir?

DNS, internetteki adres defterimizdir.  
Karmaşık IP adreslerini (104.26.10.229 gibi) hatırlamak yerine, kolayca hatırlanabilir alan adları kullanmamıza yardımcı olur. 📖💡

---

### 🧠 Nasıl Çalışır?

Her cihazın internette bir IP adresi vardır. 📦  
Ama bu IP'leri hatırlamak zordur. Örneğin:

🧮 104.26.10.229 → tryhackme.com

DNS'in görevi, bu çeviriyi yapmaktır:  
🗣️ "Ben tryhackme.com'a gitmek istiyorum"  
🔁 DNS: "Tamam! O aslında 104.26.10.229 IP adresine karşılık geliyor."

---

### 📦 Örnek:

Sen: tryhackme.com yazarsın  
🔍 DNS sunucusu: "Bu alan adı hangi IP adresine karşılık geliyor?"  
🎯 Cevap: 104.26.10.229  
💡 Tarayıcı bu IP'ye gider ve siteyi yükler.

---

### 🧭 DNS = İnternetin Rehberi

Tıpkı telefon rehberindeki isim→numara eşleşmeleri gibi:  
- İsim: tryhackme.com  
- Numara: 104.26.10.229

---

### 🔁 DNS Olmasa Ne Olurdu?

Her web sitesine gitmek için şu şekilde IP adresi yazmak zorunda kalırdık:

❌ https://142.250.187.206  
✅ https://google.com

DNS sayesinde internet çok daha kullanıcı dostu hale geliyor 🧑‍💻✨

---

## 🌐 Domain Hierarchy (Alan Adı Hiyerarşisi)

İnternetteki alan adları (domain), katmanlı bir yapıya sahiptir. En sağdan sola doğru ilerler:

🔽 Örnek: `admin.tryhackme.com`

---

### 🏁 1. Root Domain (`.`)
- 🌱 Hiyerarşinin en tepesinde yer alır.
- Tarayıcılar tarafından genellikle gizlenir.
- Tüm domain yapısının başlangıç noktasıdır.
- Örnek: `.` (görünmez)

---

### 🏷️ 2.TLD - Top-Level Domain (Üst Düzey Alan Adı)

Alan adının en sağındaki kısımdır. Örnek: `tryhackme.com` adresinde `.com` bir TLD'dir.  
TLD’ler iki ana kategoriye ayrılır:

---

### 🌍 gTLD (Generic Top-Level Domain) — Genel TLD'ler

| TLD      | Açıklama                        |
|----------|---------------------------------|
| .com     | Ticari (Commercial)             |
| .org     | Kuruluşlar (Organization)       |
| .net     | Ağ sağlayıcıları (Network)      |
| .edu     | Eğitim kurumları (Education)    |
| .gov     | Devlet siteleri (Government)    |
| .mil     | Askerî siteler (Military)       |
| .info    | Bilgi siteleri (Information)    |
| .biz     | İşletmeler (Business)           |

---

### 🏳️ ccTLD (Country Code Top-Level Domain) — Ülke Kodu TLD’leri

| TLD      | Ülke            |
|----------|-----------------|
| .tr      | Türkiye          |
| .uk      | Birleşik Krallık |
| .de      | Almanya          |
| .fr      | Fransa           |
| .jp      | Japonya          |
| .us      | Amerika Birleşik Devletleri |
| .ca      | Kanada           |
| .ru      | Rusya            |

---

📝 Not: Günümüzde 2000’den fazla TLD türü bulunmaktadır. İhtiyaca göre tematik ya da yerel amaçlarla yeni gTLD’ler de (örneğin .online, .shop, .dev) kullanılmaktadır.


---

### ✍️ 3. Second-Level Domain (SLD)
- TLD'nin hemen solunda yer alır.
- Genellikle markanın ya da sitenin adıdır.
- Örnek: `tryhackme.com` → "tryhackme" kısmı SLD'dir.

🧩 Karakter Kuralları:
- Maksimum 63 karakter
- a–z, 0–9, ve - (tire) içerebilir
- Tire ile başlayamaz/bitemez, ardışık tire içeremez

---

### 🧩 4. Subdomain
- SLD'nin solunda yer alır
- Nokta (.) ile ayrılır
- Örnek: `admin.tryhackme.com` → "admin" bir subdomain'dir

📌 Özellikler:
- Her subdomain 63 karaktere kadar olabilir
- Tüm alan adı toplamda 253 karakteri geçmemeli
- Sınırsız sayıda subdomain oluşturulabilir!
- 🔗 Örnek: `jupiter.servers.tryhackme.com`

---

### 📊 Hiyerarşi Örneği:

| Alan Adı Bölümü       | Örnek Değer       |
|-----------------------|-------------------|
| Root Domain           | . (görünmez)      |
| Top-Level Domain (TLD) | com               |
| Second-Level Domain   | tryhackme         |
| Subdomain             | admin             |

📎 Tam Adres: `admin.tryhackme.com`

---

## 🧾 DNS Kayıt Türleri (DNS Record Types)

DNS sadece alan adlarını IP adreslerine çevirmekten ibaret değildir. Farklı türde DNS kayıtları, alan adıyla ilişkili çeşitli hizmetleri tanımlar. İşte en yaygın olanlar:

| Kayıt Türü | Açıklama |
|------------|----------|
| A          | IPv4 adresine karşılık gelir. <br> Örnek: `104.26.10.229` |
| AAAA       | IPv6 adresine karşılık gelir. <br> Örnek: `2606:4700:20::681a:be5` |
| CNAME      | Başka bir alan adına karşılık gelir. <br> Örnek: `store.tryhackme.com → shops.shopify.com` |
| MX         | E-posta sunucularını tanımlar. <br> Örnek: `alt1.aspmx.l.google.com` <br> Ayrıca öncelik (priority) değeri içerir. |
| TXT        | Serbest metin bilgisi içerir. <br> Örnek kullanım alanları: SPF kayıtları, alan adı sahipliği doğrulama |

📌 Notlar:
- MX kayıtlarında "öncelik" değeri sayesinde e-posta trafiği birden fazla sunucuya yönlendirilebilir.
- TXT kayıtları, spam ve sahte e-postalarla mücadelede önemli rol oynar.
- CNAME kayıtları başka alan adlarına yönlendirme yapar ama A kaydı gibi IP döndürmez.

---
## 🌐 DNS İsteği Nasıl Yapılır?

Bir alan adını (örneğin www.tryhackme.com) ziyaret ettiğinizde, aşağıdaki adımlar izlenir:

### 🧭 1. Yerel Önbellek (Local Cache)
İlk olarak, işletim sisteminiz DNS önbelleğini kontrol eder. Eğer bu alan adı için daha önce yapılmış ve hâlâ geçerli (TTL süresi dolmamış) bir sorgu varsa, cevap buradan gelir. İşlem burada biter.

### 🔁 2. Recursive DNS Sunucusu
Yerel önbellekte sonuç yoksa, istemci Recursive DNS sunucusuna bir sorgu gönderir. Bu genellikle:
- İnternet Servis Sağlayıcınız (ISP) tarafından sağlanır
- Ya da kullanıcı tarafından Cloudflare (1.1.1.1), Google (8.8.8.8) gibi DNS sağlayıcılarına ayarlanabilir

Recursive sunucu da kendi önbelleğine bakar. Eğer sonuç orada varsa, cevap döner.

### 🌍 3. Root DNS Sunucuları
Eğer recursive sunucuda da sonuç yoksa, sorgu internetin omurgasını oluşturan Root DNS sunucularına yönlendirilir. Root sunucular, sorgulanan alan adının hangi TLD’ye (Top-Level Domain) ait olduğunu belirler.

📌 Örnek: www.tryhackme.com ⇒ .com TLD’sine yönlendirilir

### 🏷️ 4. TLD Sunucuları
Root sunucu, .com için TLD sunucusuna yönlendirir. TLD sunucusu da sizi alan adıyla ilişkili Yetkili (Authoritative) DNS sunucusuna yönlendirir.

📌 Örnek: tryhackme.com için authoritative nameserver’lar:
- kip.ns.cloudflare.com
- uma.ns.cloudflare.com

### 🗂️ 5. Yetkili (Authoritative) DNS Sunucusu
Bu sunucu, alan adına ait gerçek DNS kayıtlarını barındırır (A, AAAA, MX, CNAME, TXT...). İstenen kayıt tipine göre cevap döner (örneğin A kaydı: IPv4 adresi).

### 🔁 6. Önbelleğe Alma (Caching)
Recursive DNS sunucusu bu cevabı kendi önbelleğine kaydeder (TTL süresi boyunca). Ardından cevabı istemci bilgisayara iletir.

### 🕒 TTL (Time To Live)
Her DNS kaydı, kaç saniye boyunca önbellekte saklanabileceğini belirten bir TTL değeri ile gelir. Bu, aynı kayıt için her istekte yeniden sorgu yapılmasını engelleyerek yükü azaltır.

---

### 🧩 Özet Akış:

1. İstemci önbelleğini kontrol eder  
2. Recursive DNS sunucusuna sorar  
3. Gerekirse root sunucuya yönlenir  
4. TLD sunucusuna geçilir  
5. Yetkili sunucuya ulaşılır  
6. Kayıt cevabı istemciye döner ve önbelleğe alınır

---

💡 Not: Bu süreçler milisaniyeler içinde gerçekleşir ve DNS sistemi, web trafiğinin temel taşıdır.
